<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>فرم ثبت نام</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body dir="rtl">
    <div class="container mt-5">
        <h3 class="text-center mb-5 mt-3">فرم مشخصات فردی</h3>
        <form id="personal-info-form">
            <div class="form-row mb-1">
                <div class="form-group col-md-6">
                    <label for="name">نام:</label>
                    <input type="text" class="form-control bg-white" id="name" name="name" required>
                </div>
                <div class="form-group col-md-6">
                    <label for="lastname">نام خانوادگی:</label>
                    <input type="text" class="form-control bg-white" id="lastname" name="lastname" required>
                </div>
            </div>
            <div class="form-row mb-1">
                <div class="form-group col-md-6">
                    <label for="email">ایمیل:</label>
                    <input type="email" class="form-control bg-white" id="email" name="email" required>
                </div>
                <div class="form-group col-md-6">
                    <label for="mobile">شماره موبایل</label>
                    <input type="tel" class="form-control bg-white" id="mobile" name="mobile" required>
                </div>
            </div>
            <div class="form-group mb-1">
                <label for="address">آدرس</label>
                <textarea class="form-control" id="address" name="address" required></textarea>
            </div>
            <div class="form-row mb-1">
                <div class="form-group col-md-6">
                    <label for="postal-code">کدپستی</label>
                    <input type="text" class="form-control bg-white" id="postal-code" name="postal-code" required>
                </div>
                <div class="form-group col-md-6">
                    <label for="instagram-id">آیدی اینستاگرام</label>
                    <input type="text" class="form-control bg-white" id="instagram-id" name="instagram-id" required>
                </div>
            </div>
        </form>

        <hr/>

        <h3 class="text-center my-5">فرم پاسخگویی به سوالات متداول</h3>
        <form id="questions-form">
            <div class="form-group mb-4">
                <label for="question1">محصولات شما در چه بازه قیمتی هستن؟ آیا قیمت‌ها متغیرن یا ثابت؟
                    </label>
                <textarea class="form-control" id="question1" name="question1" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question2">جنس شال‌ها و روسری‌هاتون از چه نوع پارچه‌هایی هست؟ (مثلاً نخی، حریر، ابریشم و ...)
                    </label>
                <textarea class="form-control" id="question2" name="question2" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question3">ابعاد استاندارد محصولات شما چقدره؟ آیا ابعاد در مدل‌های مختلف فرق داره؟
                    </label>
                <textarea class="form-control" id="question3" name="question3" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question4">محصولات شما چند رنگ دارن؟ مشتری می‌تونه رنگ مورد نظرش رو انتخاب کنه؟
                    </label>
                <textarea class="form-control" id="question4" name="question4" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question5">مشتری‌ها از چه طریقی می‌تونن سفارش بدن؟ (دایرکت، لینک سایت، واتساپ و ...)
                    </label>
                <textarea class="form-control" id="question5" name="question5" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question6">از چه روش‌هایی برای ارسال استفاده می‌کنید؟ پست، تیپاکس، پیک و ...
                    </label>
                <textarea class="form-control" id="question6" name="question6" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question7">آیا تخفیف دارید؟ چه زمانی یا برای چه کسانی تخفیف ارائه می‌دید؟
                    </label>
                <textarea class="form-control" id="question7" name="question7" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question8">سفارش‌ها معمولاً چند روزه ارسال می‌شن؟
                    </label>
                <textarea class="form-control" id="question8" name="question8" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question9">امکان تعویض یا مرجوعی محصول وجود داره؟ در چه شرایطی؟
                    </label>
                <textarea class="form-control" id="question9" name="question9" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question10">آیا محصولات شما ضمانت کیفیت یا رضایت مشتری دارن؟
                    </label>
                <textarea class="form-control" id="question10" name="question10" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question11">امکان ارسال به خارج از کشور دارید؟ به چه کشورهایی؟
                    </label>
                <textarea class="form-control" id="question11" name="question11" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question12">موجودی محصولات چطور اعلام می‌شه؟ آیا به‌روز هست؟
                    </label>
                <textarea class="form-control" id="question12" name="question12" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question13">چه تضمینی بابت کیفیت کار ارائه می‌دید؟ چه چیزی محصولات شما رو متمایز می‌کنه؟
                    </label>
                <textarea class="form-control" id="question13" name="question13" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question14">محصولات شما برای چه فصل‌هایی مناسب هستن؟
                    </label>
                <textarea class="form-control" id="question14" name="question14" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question15">آیا فروش عمده یا همکاری با مزون‌ها و فروشگاه‌ها دارید؟
                    </label>
                <textarea class="form-control" id="question15" name="question15" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question16">آیا بسته‌بندی خاص برای هدیه ارائه می‌دید؟ چطور هست؟
                    </label>
                <textarea class="form-control" id="question16" name="question16" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question17">امکان خرید حضوری وجود داره؟ اگر بله، آدرس کجاست؟
                    </label>
                <textarea class="form-control" id="question17" name="question17" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question18">مشتری‌ها چطور می‌تونن پرداخت انجام بدن؟ کارت به کارت، درگاه پرداخت و ...
                    </label>
                <textarea class="form-control" id="question18" name="question18" required></textarea>
            </div>
            <div class="form-group mb-4">
                <label for="question19">هزینه ارسال چقدره؟ آیا بسته به مبلغ سفارش یا مقصد فرق داره؟</label>
                <textarea class="form-control" id="question19" name="question19" required></textarea>
            </div>

            <!-- بخش دانلود PDF -->
            <div class="form-group mb-4">
                <div>
                    <a class="text-decoration-none text-decoration-underline text-black" href="guideBot.html">جهت مشاهده راهنمای ایجاد ربات تلگرام کلیک کنید</a>
                </div>
                <!-- <label for="download-pdf">دانلود فایل راهنما (PDF):</label>
                <a id="download-pdf"
                   href="files/guide.pdf"
                   download
                   class="btn btn-info btn-block">
                    دانلود PDF
                </a> -->
            </div>

        <div class="sticky-submit-wrapper">
            <button type="submit" form="questions-form" class="btn btn-success btn-block">
                ثبت اطلاعات
            </button>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#questions-form').on('submit', function(e) {
                e.preventDefault();
                submitForms();
            });
        });

        function submitForms() {
            // اعتبارسنجی فیلدهای مشخصات فردی
            const nameVal      = document.getElementById('name').value.trim();
            const lastnameVal  = document.getElementById('lastname').value.trim();
            const addressVal   = document.getElementById('address').value.trim();
            const instagramVal = document.getElementById('instagram-id').value.trim();

            if (!nameVal) {
                alert('لطفاً نام را وارد کنید');
                document.getElementById('name').focus();
                return;
            }
            if (!lastnameVal) {
                alert('لطفاً نام خانوادگی را وارد کنید');
                document.getElementById('lastname').focus();
                return;
            }
            if (!addressVal) {
                alert('لطفاً آدرس را وارد کنید');
                document.getElementById('address').focus();
                return;
            }
            if (!instagramVal) {
                alert('لطفاً آیدی اینستاگرام را وارد کنید');
                document.getElementById('instagram-id').focus();
                return;
            }

            const personalInfo = {
                name: document.getElementById('name').value,
                lastname: document.getElementById('lastname').value,
                email: document.getElementById('email').value,
                mobile: document.getElementById('mobile').value,
                address: document.getElementById('address').value,
                postalCode: document.getElementById('postal-code').value,
                instagramId: document.getElementById('instagram-id').value
            };

            const questions = {
                question1: document.getElementById('question1').value,
                question2: document.getElementById('question2').value,
                question3: document.getElementById('question3').value,
                question4: document.getElementById('question4').value,
                question5: document.getElementById('question5').value,
                question6: document.getElementById('question6').value,
                question7: document.getElementById('question7').value,
                question8: document.getElementById('question8').value,
                question9: document.getElementById('question9').value,
                question10: document.getElementById('question10').value,
                question11: document.getElementById('question11').value,
                question12: document.getElementById('question12').value,
                question13: document.getElementById('question13').value,
                question14: document.getElementById('question14').value,
                question15: document.getElementById('question15').value,
                question16: document.getElementById('question16').value,
                question17: document.getElementById('question17').value,
                question18: document.getElementById('question18').value,
                question19: document.getElementById('question19').value
            };

            var settings = {
                "url": "https://api.holootech.com/user/first-register",
                "method": "POST",
                "timeout": 0,
                "headers": {
                    "Content-Type": "application/json"
                },
                "data": JSON.stringify({
                    "form_data": JSON.stringify({ personalInfo, questions })
                })
            };

            $.ajax(settings)
                .done(function(response) {
                    console.log('Success:', response);
                    alert('اطلاعات با موفقیت ارسال شد!');
                })
                .fail(function(xhr, status, error) {
                    console.error('Error:', error);
                    alert('خطا در ارسال اطلاعات.');
                });
        }
    </script>
</body>
</html>
